{"version":3,"sources":["components/SearchBar.js","components/ImageCard.js","components/ImageList.js","api/unsplash.js","components/App.js","index.js"],"names":["SearchBar","state","term","onFormSubmit","e","preventDefault","props","onSearchSubmit","className","onSubmit","this","type","onChange","setState","target","value","placeholder","React","Component","ImageCard","imgRef","createRef","image","urls","description","ref","src","regular","alt","ImageList","imagesList","images","map","id","axios","create","baseURL","headers","Authorization","App","page","err","getNextPage","res","link","split","filter","el","includes","replace","a","unsplash","get","params","query","response","data","total","results","getMoreImages","onClick","style","marginTop","paddingBottom","renderContent","root","document","getElementById","render","StrictMode"],"mappings":"yOA6BeA,E,4MA1BbC,MAAQ,CAAEC,KAAM,I,EAEhBC,aAAe,SAACC,GACdA,EAAEC,iBAEF,EAAKC,MAAMC,eAAe,EAAKN,MAAMC,O,uDAG7B,IAAD,OACP,OACE,qBAAKM,UAAU,aAAf,SACE,uBAAMA,UAAU,UAAUC,SAAUC,KAAKP,aAAzC,UACE,oDACA,uBACEK,UAAU,GACVG,KAAK,OACLC,SAAU,SAACR,GAAD,OAAO,EAAKS,SAAS,CAAEX,KAAME,EAAEU,OAAOC,SAChDA,MAAOL,KAAKT,MAAMC,KAClBc,YAAY,oD,GAnBAC,IAAMC,WCsBfC,E,kDArBb,WAAYb,GAAQ,IAAD,8BACjB,cAAMA,IAEDc,OAASH,IAAMI,YAHH,E,kGAUT,IAAD,EACuBX,KAAKJ,MAAMgB,MAAjCC,EADD,EACCA,KAAMC,EADP,EACOA,YAEd,OACE,qBAAKhB,UAAU,SAAf,SACE,qBAAKiB,IAAKf,KAAKU,OAAQM,IAAKH,EAAKI,QAASC,IAAKJ,U,GAhB/BP,IAAMC,WCSfW,EARG,SAAC,GAAgB,IAC7BC,EAD4B,EAAbC,OACKC,KAAI,SAACV,GAC3B,OAAO,cAAC,EAAD,CAA0BA,MAAOA,GAAjBA,EAAMW,OAG/B,OAAO,qBAAKzB,UAAU,MAAf,SAAsBsB,K,QCLhBI,E,OAAAA,EAAMC,OAAO,CAC1BC,QAAS,2BACTC,QAAS,CACPC,cAAc,aAAD,OALD,kDC+EDC,E,4MA1EbtC,MAAQ,CAAE8B,OAAQ,GAAI7B,KAAM,GAAIsC,KAAM,KAAMC,IAAK,M,EAEjDC,YAAc,SAACC,GACb,OAAOA,EAAIN,QAAQO,KAChBC,MAAM,KACNC,QAAO,SAACC,GAAD,OAAQA,EAAGC,SAAS,iBAAe,GAC1CH,MAAM,KAAK,GACXI,QAAQ,IAAK,IACbJ,MAAM,KAAK,GACXA,MAAM,KAAK,GACXA,MAAM,KAAK,I,EAGhBtC,e,uCAAiB,WAAOL,GAAP,eAAAgD,EAAA,sEACQC,EAASC,IAAI,iBAAkB,CACpDC,OAAQ,CACNC,MAAOpD,KAHI,OAOa,KANtBqD,EADS,QAOFC,KAAKC,MAChB,EAAK5C,SAAS,CAAE4B,IAAK,mCAErB,EAAK5B,SAAS,CAAE4B,IAAK,OACrB,EAAK5B,SAAS,CAAEX,SAChB,EAAKW,SAAS,CAAE2B,KAAM,EAAKE,YAAYa,KACvC,EAAK1C,SAAS,CAAEkB,OAAQwB,EAASC,KAAKE,WAbzB,2C,wDAiBjBC,c,sBAAgB,4BAAAT,EAAA,sEACSC,EAASC,IAAI,iBAAkB,CACpDC,OAAQ,CACNb,KAAM,EAAKvC,MAAMuC,KACjBc,MAAO,EAAKrD,MAAMC,QAJR,OACRqD,EADQ,OAQd,EAAK1C,SAAS,CAAE2B,KAAM,EAAKE,YAAYa,KACvC,EAAK1C,SAAS,CAAEkB,OAAO,GAAD,mBAAM,EAAK9B,MAAM8B,QAAjB,YAA4BwB,EAASC,KAAKE,YATlD,2C,kEAadhD,KAAKH,eAAe,U,sCAIpB,OAAIG,KAAKT,MAAMwC,IACN,6BAAK/B,KAAKT,MAAMwC,MAGrB,qCACE,cAAC,EAAD,CAAWV,OAAQrB,KAAKT,MAAM8B,SAC9B,wBAAQvB,UAAU,UAAUoD,QAASlD,KAAKiD,cAA1C,uB,+BASN,OACE,sBACEnD,UAAU,eACVqD,MAAO,CAAEC,UAAW,OAAQC,cAAe,QAF7C,UAIE,cAAC,EAAD,CAAWxD,eAAgBG,KAAKH,iBAC/BG,KAAKsD,uB,GArEI/C,IAAMC,WCClB+C,EAAOC,SAASC,eAAe,QAErCC,iBACE,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFJ,K","file":"static/js/main.00131e4d.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nclass SearchBar extends React.Component {\r\n  state = { term: '' };\r\n\r\n  onFormSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    this.props.onSearchSubmit(this.state.term);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"ui segment\">\r\n        <form className=\"ui form\" onSubmit={this.onFormSubmit}>\r\n          <label>Find your image</label>\r\n          <input\r\n            className=\"\"\r\n            type=\"text\"\r\n            onChange={(e) => this.setState({ term: e.target.value })}\r\n            value={this.state.term}\r\n            placeholder=\"write your search term and press enter\"\r\n          />\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SearchBar;\r\n","import React from 'react';\r\n\r\nclass ImageCard extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.imgRef = React.createRef();\r\n  }\r\n\r\n  componentDidMount() {\r\n    // console.log(this.imgRef.current.clientHeight);\r\n  }\r\n\r\n  render() {\r\n    const { urls, description } = this.props.image;\r\n\r\n    return (\r\n      <div className=\"column\">\r\n        <img ref={this.imgRef} src={urls.regular} alt={description} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageCard;\r\n","import React from 'react';\r\nimport ImageCard from './ImageCard';\r\n\r\nconst ImageList = ({ images }) => {\r\n  let imagesList = images.map((image) => {\r\n    return <ImageCard key={image.id} image={image} />;\r\n  });\r\n\r\n  return <div className=\"row\">{imagesList}</div>;\r\n};\r\n\r\nexport default ImageList;\r\n","import axios from 'axios';\r\nconst API_KEY = 'XffMZ4eFtuP85PJ2jnzE3fX6L_VolvAwqQs5KX93bo0';\r\n\r\nexport default axios.create({\r\n  baseURL: 'https://api.unsplash.com',\r\n  headers: {\r\n    Authorization: `Client-ID ${API_KEY}`,\r\n  },\r\n});\r\n","import React from 'react';\nimport SearchBar from './SearchBar';\nimport ImageList from './ImageList';\nimport unsplash from '../api/unsplash';\n\nclass App extends React.Component {\n  state = { images: [], term: '', page: null, err: null };\n\n  getNextPage = (res) => {\n    return res.headers.link\n      .split(',')\n      .filter((el) => el.includes('rel=\"next\"'))[0]\n      .split('>')[0]\n      .replace('<', '')\n      .split('?')[1]\n      .split('&')[0]\n      .split('=')[1];\n  };\n\n  onSearchSubmit = async (term) => {\n    const response = await unsplash.get('/search/photos', {\n      params: {\n        query: term,\n      },\n    });\n\n    if (response.data.total === 0) {\n      this.setState({ err: 'No result please try again :(' });\n    } else {\n      this.setState({ err: null });\n      this.setState({ term });\n      this.setState({ page: this.getNextPage(response) });\n      this.setState({ images: response.data.results });\n    }\n  };\n\n  getMoreImages = async () => {\n    const response = await unsplash.get('/search/photos', {\n      params: {\n        page: this.state.page,\n        query: this.state.term,\n      },\n    });\n\n    this.setState({ page: this.getNextPage(response) });\n    this.setState({ images: [...this.state.images, ...response.data.results] });\n  };\n\n  componentDidMount() {\n    this.onSearchSubmit('cars');\n  }\n\n  renderContent() {\n    if (this.state.err) {\n      return <h2>{this.state.err}</h2>;\n    } else {\n      return (\n        <>\n          <ImageList images={this.state.images} />\n          <button className=\"loadBtn\" onClick={this.getMoreImages}>\n            more\n          </button>\n        </>\n      );\n    }\n  }\n\n  render() {\n    return (\n      <div\n        className=\"ui container\"\n        style={{ marginTop: '30px', paddingBottom: '10px' }}\n      >\n        <SearchBar onSearchSubmit={this.onSearchSubmit} />\n        {this.renderContent()}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import './index.css';\nimport React from 'react';\nimport { render } from 'react-dom';\n\nimport App from './components/App';\n\nconst root = document.getElementById('root');\n\nrender(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  root\n);\n"],"sourceRoot":""}